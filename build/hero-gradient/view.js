(()=>{var t={998:()=>{function t(){if(document.body.classList.contains("wp-admin"))return;const t=document.createElement("div");t.id="canvas-masking-ui",t.style.cssText='\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        background: rgba(0, 0, 0, 0.8);\n        color: white;\n        padding: 12px 16px;\n        border-radius: 8px;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n        font-size: 14px;\n        z-index: 999999;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n        user-select: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n    ',t.addEventListener("mouseenter",()=>{t.style.background="rgba(0, 0, 0, 0.9)"}),t.addEventListener("mouseleave",()=>{t.style.background="rgba(0, 0, 0, 0.8)"});const e=document.createElement("input");e.type="checkbox",e.id="canvas-masking-toggle",e.checked=!0,e.style.cssText="\n        margin-right: 8px;\n        cursor: pointer;\n        width: 16px;\n        height: 16px;\n        vertical-align: middle;\n    ";const i=document.createElement("label");i.htmlFor="canvas-masking-toggle",i.textContent="Canvas Masking",i.style.cssText="\n        cursor: pointer;\n        vertical-align: middle;\n        font-weight: 500;\n    ",t.appendChild(e),t.appendChild(i),document.body.appendChild(t),e.addEventListener("change",t=>{const e=t.target.checked;console.log(`[Canvas Masking UI] Toggled: ${e}`),document.querySelectorAll(".wp-block-hero-gradient, [data-hero-gradient]").forEach(t=>{const i=t._heroGradientAnimation;i&&"function"==typeof i.updateSetting&&(i.updateSetting("canvasMaskingEnabled",e),console.log("[Canvas Masking UI] Updated animation instance:",i))})}),console.log("[Canvas Masking UI] Initialized")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}(()=>{"use strict";class t{constructor(t){this.canvas=t,this.ctx=t.getContext("2d",{alpha:!1,willReadFrequently:!1}),this.animationId=null,this.gradients=[],this.time=0,this.speed=5e-4,this.settings={opacity:1,blur:0,brightness:100,contrast:100,saturation:100,hue:0,scale:1,gradientSizeMultiplier:1,gradientSizeMode:"base",positionX:.5,positionY:.5,blendMode:"normal",gradientBlendMode:"normal",gradientBlendModeEnabled:!1,gradientCount:5,gradientSpeed:.5,colorIntensity:.6,backgroundColor:"#000000",gradientFade:.5,hueRotationSpeed:0,animatedHue:0,hueStart:200,hueEnd:280,hueSeparation:100,evenlySpacedColors:!0,saturationMin:60,saturationMax:100,lightnessMin:20,lightnessMax:50,colorMode:"hue-range",paletteColors:["#4a90e2","#5ba3f5","#6bb6ff","#7bc9ff","#8bdaff"],fadeoutMode:"none",fadeoutTime:10,radialGradientsEnabled:!0,lineGradientsEnabled:!1,lineGradientAngle:0,lineGradientLength:200,lineGradientWidth:100,movementMode:"orbit",amplitudeX:10,amplitudeY:15,maxWidth:0,maxHeight:0,canvasMaskingEnabled:!0,canvasMaskingSelector:".no-blend",canvasMaskingColor:"white"},this.fadeoutLastTime=Date.now(),this.accumulatingBlendModes=["lighten","screen","color-dodge","overlay","soft-light"],this.init()}init(){this.resize(),this.resizeHandler=()=>this.resize(),window.addEventListener("resize",this.resizeHandler),this.createGradients(),this.animate()}resize(){const t=Math.min(window.devicePixelRatio||1,1.5),e=this.canvas.parentElement?.getBoundingClientRect()||{width:800,height:600};let i=e.width||800,s=e.height||600;this.settings.maxWidth>0&&i>this.settings.maxWidth&&(i=this.settings.maxWidth),this.settings.maxHeight>0&&s>this.settings.maxHeight&&(s=this.settings.maxHeight),this.canvas.width=i*t,this.canvas.height=s*t,this.ctx.scale(t,t),this.canvas.style.width=i+"px",this.canvas.style.height=s+"px"}createGradients(t=!0){const e=this.settings.gradientCount,i="base"===this.settings.gradientSizeMode?this.settings.gradientSizeMultiplier:1;if(t||0===this.gradients.length){const t=this.gradients.map(t=>({phase:t.phase,opacityBase:t.opacityBase,radiusFactor:t.radiusFactor,velocityX:t.velocityX,velocityY:t.velocityY,initialX:t.initialX,initialY:t.initialY}));this.gradients=[];for(let s=0;s<e;s++){const e=t[s]||{phase:Math.random()*Math.PI*2,opacityBase:.3+.4*Math.random(),radiusFactor:200+400*Math.random(),velocityX:.5*(Math.random()-.5),velocityY:.5*(Math.random()-.5),initialX:Math.random(),initialY:Math.random()};this.gradients.push({x:e.initialX*this.canvas.width,y:e.initialY*this.canvas.height,radius:e.radiusFactor*i,vx:e.velocityX,vy:e.velocityY,color:this.generateColor(s),opacity:e.opacityBase,phase:e.phase,baseIndex:s,opacityBase:e.opacityBase,radiusFactor:e.radiusFactor,velocityX:e.velocityX,velocityY:e.velocityY,initialX:e.initialX,initialY:e.initialY})}}else this.gradients.forEach((t,e)=>{t.radius=t.radiusFactor*i,t.color=this.generateColor(e)})}generateColor(t=null){if("palette"===this.settings.colorMode&&this.settings.paletteColors.length>0){const e=null!==t?t%this.settings.paletteColors.length:Math.floor(Math.random()*this.settings.paletteColors.length);return this.settings.paletteColors[e]}{const e=(this.settings.hueEnd-this.settings.hueStart)*(this.settings.hueSeparation/100);let i;if(this.settings.evenlySpacedColors&&null!==t&&this.settings.gradientCount>1){const s=e/(this.settings.gradientCount-1);i=this.settings.hueStart+t*s}else i=this.settings.hueStart+Math.random()*e;return`hsl(${i}, ${this.settings.saturationMin+Math.random()*(this.settings.saturationMax-this.settings.saturationMin)}%, ${this.settings.lightnessMin+Math.random()*(this.settings.lightnessMax-this.settings.lightnessMin)}%)`}}calculateMovementPosition(t,e,i,s,n){const a=this.settings.gradientSpeed,o=this.settings.amplitudeX/100,r=this.settings.amplitudeY/100,d=t.phase,l=i*a;let h=0,c=0;switch(this.settings.movementMode){case"orbit":default:h=Math.sin(l+d)*s*o,c=Math.cos(l+1.3*d)*n*r;break;case"wave":h=Math.sin(l+d)*s*o,c=Math.sin(2*l+d+.5*e)*n*r*.5;break;case"pulse":const t=l+d,i=.5*Math.sin(t)+.5,a=d*Math.PI*2;h=Math.cos(a)*i*s*o,c=Math.sin(a)*i*n*r;break;case"drift":h=(.5*Math.sin(.7*l+d)+.3*Math.sin(.3*l+2*d)+.2*Math.sin(.1*l+3*d))*s*o,c=(.5*Math.cos(.5*l+d)+.3*Math.cos(.2*l+2.5*d)+.2*Math.cos(.15*l+1.5*d))*n*r;break;case"bounce":h=(2*Math.abs(Math.sin(l+d))-1)*s*o,c=(2*Math.abs(Math.sin(1.3*l+.7*d))-1)*n*r;break;case"spiral":const g=l+d,u=.5*Math.sin(.5*g)+.5,p=2*g;h=Math.cos(p)*u*s*o,c=Math.sin(p)*u*n*r;break;case"sway":h=Math.sin(l+d)*s*o,c=Math.sin(.5*l+d)*n*r*.3;break;case"chaos":const b=Math.sin(1.1*l+d)*Math.cos(.7*l+1.3*d),m=Math.sin(.8*l+2*d)*Math.cos(1.5*l+d),M=Math.sin(2.1*l+.5*d);h=(.5*b+.3*m+.2*M)*s*o,c=(.5*m+.3*M+.2*b)*n*r;break;case"figure-eight":const v=l+d;h=Math.sin(v)*s*o,c=Math.sin(2*v)*n*r*.5;break;case"vertical-wave":h=Math.sin(2*l+d+.5*e)*s*o*.5,c=Math.sin(l+d)*n*r}return{offsetX:h,offsetY:c}}updateGradients(){const t=Math.min(window.devicePixelRatio||1,1.5),e=this.canvas.width/t,i=this.canvas.height/t,s=e*this.settings.positionX,n=i*this.settings.positionY;this.gradients.forEach((t,a)=>{const{offsetX:o,offsetY:r}=this.calculateMovementPosition(t,a,this.time,e,i);if(t.x=s+o,t.y=n+r,"palette"===this.settings.colorMode&&this.settings.paletteColors.length>0){const e=t.baseIndex%this.settings.paletteColors.length;t.color=this.settings.paletteColors[e]}else{const e=(this.settings.hueEnd-this.settings.hueStart)*(this.settings.hueSeparation/100);let i;if(this.settings.evenlySpacedColors&&this.settings.gradientCount>1){const s=e/(this.settings.gradientCount-1);i=this.settings.hueStart+t.baseIndex*s+(20*Math.sin(.3*this.time+a)+this.settings.hue)}else{const s=20*Math.sin(.3*this.time+a)+this.settings.hue,n=.1*t.baseIndex%1;i=this.settings.hueStart+n*e+s}const s=Math.max(this.settings.saturationMin,Math.min(this.settings.saturationMax,(this.settings.saturationMin+this.settings.saturationMax)/2+Math.sin(this.time+a)*((this.settings.saturationMax-this.settings.saturationMin)/2))),n=Math.max(this.settings.lightnessMin,Math.min(this.settings.lightnessMax,(this.settings.lightnessMin+this.settings.lightnessMax)/2+Math.sin(.5*this.time+a)*((this.settings.lightnessMax-this.settings.lightnessMin)/2)));t.color=`hsl(${i%360}, ${s}%, ${n}%)`}t.opacity=(.3+.2*Math.sin(.4*this.time+t.phase))*this.settings.opacity}),this.applyRepulsion(),this.gradients.forEach(t=>{t.x<-t.radius&&(t.x=e+t.radius),t.x>e+t.radius&&(t.x=-t.radius),t.y<-t.radius&&(t.y=i+t.radius),t.y>i+t.radius&&(t.y=-t.radius)})}applyRepulsion(){const t=150,e=.15;for(let i=0;i<this.gradients.length;i++){const s=this.gradients[i],n=[];for(let t=0;t<this.gradients.length;t++){if(i===t)continue;const e=this.gradients[t],a=s.x-e.x,o=s.y-e.y;Math.sqrt(a*a+o*o)<(s.radius+e.radius)/2*.6&&n.push(t)}if(n.length>=2){const i=1+.5*(n.length-1);let a=0,o=0;n.forEach(n=>{const r=this.gradients[n],d=s.x-r.x,l=s.y-r.y,h=Math.sqrt(d*d+l*l);if(h>0&&h<t){const s=(t-h)/t;a+=d/h*s*e*i,o+=l/h*s*e*i}}),s.x+=a,s.y+=o}else n.forEach(i=>{const n=this.gradients[i],a=s.x-n.x,o=s.y-n.y,r=Math.sqrt(a*a+o*o);if(r>0&&r<t){const i=a/r,n=o/r,d=(t-r)/t;s.x+=i*d*e*.5,s.y+=n*d*e*.5}})}}updateCanvasMasking(t){if(!this.settings.canvasMaskingEnabled)return;const e=document.querySelectorAll(this.settings.canvasMaskingSelector);if(0===e.length)return;const i=this.canvas.getBoundingClientRect();Math.min(window.devicePixelRatio||1,1.5),console.log(`[Canvas Masking] Found ${e.length} elements to mask`),e.forEach((e,s)=>{const n=e.getBoundingClientRect(),a=n.left-i.left,o=n.top-i.top,r=n.width,d=n.height,l=e.querySelectorAll(".still-blend");console.log(`[Canvas Masking] Element ${s+1}:`,{selector:this.settings.canvasMaskingSelector,x:a.toFixed(2),y:o.toFixed(2),width:r.toFixed(2),height:d.toFixed(2),color:this.settings.canvasMaskingColor,stillBlendChildren:l.length}),0===l.length?(t.fillStyle=this.settings.canvasMaskingColor,t.fillRect(a,o,r,d)):(t.save(),t.beginPath(),t.rect(a,o,r,d),l.forEach((e,s)=>{const n=e.getBoundingClientRect(),a=n.left-i.left,o=n.top-i.top,r=n.width,d=n.height;console.log(`[Canvas Masking]   â†’ .still-blend child ${s+1}:`,{x:a.toFixed(2),y:o.toFixed(2),width:r.toFixed(2),height:d.toFixed(2)}),t.rect(a+r,o,-r,d)}),t.fillStyle=this.settings.canvasMaskingColor,t.fill("evenodd"),t.restore())})}draw(){const t=Math.min(window.devicePixelRatio||1,1.5),e=this.canvas.width/t,i=this.canvas.height/t,s="none"!==this.settings.fadeoutMode&&this.accumulatingBlendModes.includes(this.settings.blendMode);let n=null,a=null;this.settings.gradientBlendModeEnabled?(n=document.createElement("canvas"),n.width=e,n.height=i,a=n.getContext("2d"),a.clearRect(0,0,e,i),this.settings.blur>0?a.filter=`blur(${this.settings.blur}px)`:a.filter="none",a.globalCompositeOperation=this.settings.gradientBlendMode):(this.ctx.clearRect(0,0,e,i),this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle=this.settings.backgroundColor,this.ctx.fillRect(0,0,e,i),this.ctx.globalCompositeOperation=this.settings.blendMode,this.settings.blur>0?this.ctx.filter=`blur(${this.settings.blur}px)`:this.ctx.filter="none");const o="drawing"===this.settings.gradientSizeMode?this.settings.gradientSizeMultiplier:1,r=this.settings.gradientBlendModeEnabled?a:this.ctx;if(this.gradients.forEach(t=>{if(this.settings.radialGradientsEnabled){const s=t.radius*this.settings.scale*o,n=this.ctx.createRadialGradient(t.x,t.y,0,t.x,t.y,s),a=t.color.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(a){const[,e,i,s]=a,o=this.settings.gradientFade;n.addColorStop(0,`hsla(${e}, ${i}%, ${s}%, ${t.opacity})`),n.addColorStop(o,`hsla(${e}, ${i}%, ${s}%, ${t.opacity*(1-o)})`),n.addColorStop(1,`hsla(${e}, ${i}%, ${s}%, 0)`)}else n.addColorStop(0,t.color),n.addColorStop(1,"transparent");r.fillStyle=n,r.fillRect(0,0,e,i)}if(this.settings.lineGradientsEnabled){const e=this.settings.lineGradientAngle*Math.PI/180,i=this.settings.lineGradientLength*o/2,s=this.settings.lineGradientWidth*o/2,n=t.x,a=t.y,d=t.color.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/),l=this.settings.gradientFade,h=Math.max(i,s),c=i/h,g=s/h;r.save(),r.translate(n,a),r.rotate(e),r.scale(c,g);const u=r.createRadialGradient(0,0,0,0,0,h);if(d){const[,e,i,s]=d;u.addColorStop(0,`hsla(${e}, ${i}%, ${s}%, ${t.opacity})`),u.addColorStop(l,`hsla(${e}, ${i}%, ${s}%, ${t.opacity*(1-l)})`),u.addColorStop(1,`hsla(${e}, ${i}%, ${s}%, 0)`)}else u.addColorStop(0,t.color),u.addColorStop(1,"transparent");r.fillStyle=u,r.fillRect(-h,-h,2*h,2*h),r.restore()}}),this.settings.gradientBlendModeEnabled&&(a.filter="none",this.ctx.clearRect(0,0,e,i),this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle=this.settings.backgroundColor,this.ctx.fillRect(0,0,e,i),this.settings.blur>0?this.ctx.filter=`blur(${this.settings.blur}px)`:this.ctx.filter="none",this.ctx.globalCompositeOperation=this.settings.blendMode,this.ctx.drawImage(n,0,0)),this.ctx.filter="none",s){const t=1/("auto"===this.settings.fadeoutMode?10:this.settings.fadeoutTime)/60,s=Math.min(.03,.8*t);this.ctx.globalCompositeOperation="multiply",this.ctx.fillStyle=`rgba(255, 255, 255, ${1-s})`,this.ctx.fillRect(0,0,e,i)}this.applyFilters(),this.updateCanvasMasking(this.ctx)}applyFilters(){const t=[];100!==this.settings.brightness&&t.push(`brightness(${this.settings.brightness}%)`),100!==this.settings.contrast&&t.push(`contrast(${this.settings.contrast}%)`),100!==this.settings.saturation&&t.push(`saturate(${this.settings.saturation}%)`);const e=this.settings.hue+this.settings.animatedHue;0!==e&&t.push(`hue-rotate(${e}deg)`),this.canvas.style.filter=t.join(" ")||"none"}animate(){if(this.time+=this.speed,this.settings.hueRotationSpeed>0){const t=360*this.settings.hueRotationSpeed/60;this.settings.animatedHue=(this.settings.animatedHue+t)%360}this.updateGradients(),this.draw(),this.animationId=requestAnimationFrame(()=>this.animate())}updateSetting(t,e){const i=this.settings[t];this.settings[t]=e,"gradientCount"===t?i!==e&&this.createGradients(!0):"colorMode"===t||"paletteColors"===t||"hueSeparation"===t||"evenlySpacedColors"===t?this.createGradients(!1):"gradientSizeMultiplier"===t||"gradientSizeMode"===t?("gradientSizeMode"===t||"gradientSizeMultiplier"===t&&"base"===this.settings.gradientSizeMode)&&this.createGradients(!1):"fadeoutMode"===t||"fadeoutTime"===t?this.fadeoutLastTime=Date.now():"hueRotationSpeed"===t?0===e&&(this.settings.animatedHue=0):"maxWidth"===t||"maxHeight"===t?this.resize():"canvasMaskingEnabled"!==t&&"canvasMaskingSelector"!==t&&"canvasMaskingColor"!==t||console.log(`[Canvas Masking] Setting updated: ${t} = ${e}`)}pause(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this._paused=!0}resume(){this._paused&&!this.animationId&&(this._paused=!1,this.animate())}isPaused(){return!0===this._paused}destroy(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler)}}class e{constructor(t){this.container=t,this.currentPattern="grid",this.size=100,this.opacity=.15,this.strokeWidth=1,this.enabled=!0}generatePattern(t,e=100,i="#ffffff",s=1){const n=this.hexToRgb(i),a=n?`rgb(${n.r}, ${n.g}, ${n.b})`:i,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("width","100%"),o.setAttribute("height","100%");const r=document.createElementNS("http://www.w3.org/2000/svg","defs"),d=document.createElementNS("http://www.w3.org/2000/svg","pattern");switch(d.setAttribute("id","heroGradientPattern"),d.setAttribute("patternUnits","userSpaceOnUse"),d.setAttribute("width",e),d.setAttribute("height",e),t){case"grid":default:this.createGrid(d,e,a,s);break;case"dots":this.createDots(d,e,a);break;case"lines-horizontal":this.createHorizontalLines(d,e,a,s);break;case"lines-vertical":this.createVerticalLines(d,e,a,s);break;case"diagonal":this.createDiagonal(d,e,a,s);break;case"crosshatch":this.createCrosshatch(d,e,a,s);break;case"hexagon":this.createHexagon(d,e,a,s);break;case"circles":this.createCircles(d,e,a,s);break;case"waves":this.createWaves(d,e,a,s);break;case"mesh":this.createMesh(d,e,a,s);break;case"noise":this.createNoise(d,e,a);break;case"circuit":this.createCircuit(d,e,a,s);break;case"scanlines":this.createScanlines(d,e,a,s);break;case"dots-grid":this.createDotsGrid(d,e,a);break;case"radial":this.createRadial(d,e,a,s)}r.appendChild(d),o.appendChild(r);const l=document.createElementNS("http://www.w3.org/2000/svg","rect");return l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill","url(#heroGradientPattern)"),o.appendChild(l),o}hexToRgb(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}createGrid(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","0"),n.setAttribute("y1","0"),n.setAttribute("x2",e),n.setAttribute("y2","0"),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s);const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1","0"),a.setAttribute("y1","0"),a.setAttribute("x2","0"),a.setAttribute("y2",e),a.setAttribute("stroke",i),a.setAttribute("stroke-width",s),t.appendChild(n),t.appendChild(a)}createDots(t,e,i){const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",e/2),s.setAttribute("cy",e/2),s.setAttribute("r",e/10),s.setAttribute("fill",i),t.appendChild(s)}createHorizontalLines(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","0"),n.setAttribute("y1",e/2),n.setAttribute("x2",e),n.setAttribute("y2",e/2),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s),t.appendChild(n)}createVerticalLines(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",e/2),n.setAttribute("y1","0"),n.setAttribute("x2",e/2),n.setAttribute("y2",e),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s),t.appendChild(n)}createDiagonal(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","0"),n.setAttribute("y1",e),n.setAttribute("x2",e),n.setAttribute("y2","0"),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s),t.appendChild(n)}createCrosshatch(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","0"),n.setAttribute("y1",e),n.setAttribute("x2",e),n.setAttribute("y2","0"),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s);const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1","0"),a.setAttribute("y1","0"),a.setAttribute("x2",e),a.setAttribute("y2",e),a.setAttribute("stroke",i),a.setAttribute("stroke-width",s),t.appendChild(n),t.appendChild(a)}createHexagon(t,e,i,s=1){const n=e,a=.866*e;t.setAttribute("height",a);const o=`${.25*n},0 ${.75*n},0 ${n},${.5*a} ${.75*n},${a} ${.25*n},${a} 0,${.5*a}`,r=document.createElementNS("http://www.w3.org/2000/svg","polygon");r.setAttribute("points",o),r.setAttribute("fill","none"),r.setAttribute("stroke",i),r.setAttribute("stroke-width",s),t.appendChild(r)}createCircles(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",e/2),n.setAttribute("cy",e/2),n.setAttribute("r",e/3),n.setAttribute("fill","none"),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s),t.appendChild(n)}createWaves(t,e,i,s=1){const n=document.createElementNS("http://www.w3.org/2000/svg","path"),a=`M0,${e/2} Q${e/4},0 ${e/2},${e/2} T${e},${e/2}`;n.setAttribute("d",a),n.setAttribute("fill","none"),n.setAttribute("stroke",i),n.setAttribute("stroke-width",s),t.appendChild(n)}createMesh(t,e,i,s=1){const n=e/3;for(let a=0;a<=3;a++){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1","0"),o.setAttribute("y1",n*a),o.setAttribute("x2",e),o.setAttribute("y2",n*a),o.setAttribute("stroke",i),o.setAttribute("stroke-width",s),t.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",n*a),r.setAttribute("y1","0"),r.setAttribute("x2",n*a),r.setAttribute("y2",e),r.setAttribute("stroke",i),r.setAttribute("stroke-width",s),t.appendChild(r)}}createNoise(t,e,i){for(let s=0;s<20;s++){const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",Math.random()*e),s.setAttribute("y",Math.random()*e),s.setAttribute("width",2),s.setAttribute("height",2),s.setAttribute("fill",i),s.setAttribute("opacity",.5*Math.random()+.25),t.appendChild(s)}}createCircuit(t,e,i,s=1){const n=e/2,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1","0"),a.setAttribute("y1",n),a.setAttribute("x2",n),a.setAttribute("y2",n),a.setAttribute("stroke",i),a.setAttribute("stroke-width",s),t.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",n),o.setAttribute("y1",n),o.setAttribute("x2",n),o.setAttribute("y2","0"),o.setAttribute("stroke",i),o.setAttribute("stroke-width",s),t.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",n),r.setAttribute("cy",n),r.setAttribute("r",e/10),r.setAttribute("fill",i),t.appendChild(r);const d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",n),d.setAttribute("y1",n),d.setAttribute("x2",e),d.setAttribute("y2",n),d.setAttribute("stroke",i),d.setAttribute("stroke-width",s),t.appendChild(d)}createScanlines(t,e,i,s=1){const n=e/4;for(let a=0;a<4;a++){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1","0"),o.setAttribute("y1",n*a+n/2),o.setAttribute("x2",e),o.setAttribute("y2",n*a+n/2),o.setAttribute("stroke",i),o.setAttribute("stroke-width",s),t.appendChild(o)}}createDotsGrid(t,e,i){const s=e/4;for(let n=0;n<4;n++)for(let a=0;a<4;a++){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",s*n+s/2),o.setAttribute("cy",s*a+s/2),o.setAttribute("r",e/20),o.setAttribute("fill",i),t.appendChild(o)}}createRadial(t,e,i,s=1){const n=e/2;for(let a=1;a<=3;a++){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",n),o.setAttribute("cy",n),o.setAttribute("r",e/6*a),o.setAttribute("fill","none"),o.setAttribute("stroke",i),o.setAttribute("stroke-width",s),t.appendChild(o)}}updatePattern(t,e,i,s="#ffffff",n="normal",a=1){if(!this.container||!this.enabled)return;this.currentPattern=t,this.size=e,this.opacity=i/100,this.strokeWidth=a,this.container.innerHTML="";const o=this.generatePattern(t,e,s,a);this.container.style.opacity=this.opacity,this.container.style.mixBlendMode=n,this.container.appendChild(o)}setEnabled(t){this.enabled=t,this.container&&(this.container.style.display=t?"block":"none")}refresh(){this.enabled&&this.container&&this.updatePattern(this.currentPattern,this.size,100*this.opacity)}}function s(){document.querySelectorAll(".wp-block-hero-gradient[data-gradient-settings]").forEach(e=>{const i=e.querySelector(".hero-gradient__canvas"),s=e.querySelector(".hero-gradient__svg-overlay");if(!i)return;if("true"===i.dataset.initialized)return;i.dataset.initialized="true";let o={};try{const t=e.dataset.gradientSettings;t&&(o=JSON.parse(t))}catch(t){console.warn("Hero Gradient: Could not parse settings",t)}const r=new t(i);n(r,o),a(s,o),e._heroGradientAnimation=r}),document.querySelectorAll("[data-hero-gradient]").forEach(e=>{if(e.dataset.gradientSettings)return;if("true"===e.dataset.heroGradientInitialized)return;e.dataset.heroGradientInitialized="true";let i={};try{i=JSON.parse(e.dataset.heroGradient)}catch(t){return void console.warn("Hero Gradient Extension: Could not parse settings",t)}if(!i.heroGradientEnabled)return;const s=document.createElement("div");s.className="hero-gradient__background hero-gradient-extension__background",s.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0; overflow: hidden; pointer-events: none;";const o=document.createElement("canvas");o.className="hero-gradient__canvas",o.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;";const r=document.createElement("div");r.className="hero-gradient__svg-overlay",r.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none;",s.appendChild(o),s.appendChild(r),"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),e.insertBefore(s,e.firstChild);const d=new t(o),l={radialGradientsEnabled:i.heroRadialGradientsEnabled,gradientOpacity:i.heroGradientOpacity,gradientBlur:i.heroGradientBlur,brightness:i.heroBrightness,contrast:i.heroContrast,saturation:i.heroSaturation,hueRotation:i.heroHueRotation,gradientScale:i.heroGradientScale,gradientSize:i.heroGradientSize,gradientSizeMode:i.heroGradientSizeMode,positionX:i.heroPositionX,positionY:i.heroPositionY,blendMode:i.heroBlendMode,gradientBlendModeEnabled:i.heroGradientBlendModeEnabled,gradientBlendMode:i.heroGradientBlendMode,fadeoutMode:i.heroFadeoutMode,fadeoutTime:i.heroFadeoutTime,gradientCount:i.heroGradientCount,animationSpeed:i.heroAnimationSpeed,gradientFade:i.heroGradientFade,canvasBgColor:i.heroCanvasBgColor,colorMode:i.heroColorMode,hueStart:i.heroHueStart,hueEnd:i.heroHueEnd,evenlySpacedColors:i.heroEvenlySpacedColors,hueSeparation:i.heroHueSeparation,saturationMin:i.heroSaturationMin,saturationMax:i.heroSaturationMax,lightnessMin:i.heroLightnessMin,lightnessMax:i.heroLightnessMax,paletteColor1:i.heroPaletteColor1,paletteColor2:i.heroPaletteColor2,paletteColor3:i.heroPaletteColor3,paletteColor4:i.heroPaletteColor4,paletteColor5:i.heroPaletteColor5,lineGradientsEnabled:i.heroLineGradientsEnabled,lineGradientAngle:i.heroLineGradientAngle,lineGradientLength:i.heroLineGradientLength,lineGradientWidth:i.heroLineGradientWidth,movementMode:i.heroMovementMode,amplitudeX:i.heroAmplitudeX,amplitudeY:i.heroAmplitudeY,svgEnabled:i.heroSvgEnabled,svgOpacity:i.heroSvgOpacity,svgSize:i.heroSvgSize,svgStrokeWidth:i.heroSvgStrokeWidth,svgPattern:i.heroSvgPattern,svgColor:i.heroSvgColor,svgBlendMode:i.heroSvgBlendMode};n(d,l),a(r,l),e._heroGradientAnimation=d})}function n(t,e){if(void 0!==e.radialGradientsEnabled&&t.updateSetting("radialGradientsEnabled",e.radialGradientsEnabled),void 0!==e.gradientOpacity&&t.updateSetting("opacity",e.gradientOpacity/100),void 0!==e.gradientBlur&&t.updateSetting("blur",e.gradientBlur),void 0!==e.brightness&&t.updateSetting("brightness",e.brightness),void 0!==e.contrast&&t.updateSetting("contrast",e.contrast),void 0!==e.saturation&&t.updateSetting("saturation",e.saturation),void 0!==e.hueRotation&&t.updateSetting("hue",e.hueRotation),void 0!==e.gradientScale&&t.updateSetting("scale",e.gradientScale/100),void 0!==e.gradientSize&&t.updateSetting("gradientSizeMultiplier",e.gradientSize/100),void 0!==e.gradientSizeMode&&t.updateSetting("gradientSizeMode",e.gradientSizeMode),void 0!==e.positionX&&t.updateSetting("positionX",e.positionX/100),void 0!==e.positionY&&t.updateSetting("positionY",e.positionY/100),void 0!==e.blendMode&&t.updateSetting("blendMode",e.blendMode),void 0!==e.gradientBlendModeEnabled&&t.updateSetting("gradientBlendModeEnabled",e.gradientBlendModeEnabled),void 0!==e.gradientBlendMode&&t.updateSetting("gradientBlendMode",e.gradientBlendMode),void 0!==e.fadeoutMode&&t.updateSetting("fadeoutMode",e.fadeoutMode),void 0!==e.fadeoutTime&&t.updateSetting("fadeoutTime",e.fadeoutTime),void 0!==e.gradientCount&&t.updateSetting("gradientCount",e.gradientCount),void 0!==e.animationSpeed&&t.updateSetting("gradientSpeed",e.animationSpeed/100),void 0!==e.gradientFade&&t.updateSetting("hueRotationSpeed",e.gradientFade),void 0!==e.canvasBgColor&&t.updateSetting("backgroundColor",e.canvasBgColor),void 0!==e.colorMode&&t.updateSetting("colorMode",e.colorMode),void 0!==e.hueStart&&t.updateSetting("hueStart",e.hueStart),void 0!==e.hueEnd&&t.updateSetting("hueEnd",e.hueEnd),void 0!==e.evenlySpacedColors&&t.updateSetting("evenlySpacedColors",e.evenlySpacedColors),void 0!==e.hueSeparation&&t.updateSetting("hueSeparation",e.hueSeparation),void 0!==e.saturationMin&&t.updateSetting("saturationMin",e.saturationMin),void 0!==e.saturationMax&&t.updateSetting("saturationMax",e.saturationMax),void 0!==e.lightnessMin&&t.updateSetting("lightnessMin",e.lightnessMin),void 0!==e.lightnessMax&&t.updateSetting("lightnessMax",e.lightnessMax),void 0!==e.lineGradientsEnabled&&t.updateSetting("lineGradientsEnabled",e.lineGradientsEnabled),void 0!==e.lineGradientAngle&&t.updateSetting("lineGradientAngle",e.lineGradientAngle),void 0!==e.lineGradientLength&&t.updateSetting("lineGradientLength",e.lineGradientLength),void 0!==e.lineGradientWidth&&t.updateSetting("lineGradientWidth",e.lineGradientWidth),void 0!==e.movementMode&&t.updateSetting("movementMode",e.movementMode),void 0!==e.amplitudeX&&t.updateSetting("amplitudeX",e.amplitudeX),void 0!==e.amplitudeY&&t.updateSetting("amplitudeY",e.amplitudeY),void 0!==e.paletteColor1){const i=[e.paletteColor1,e.paletteColor2||"#5ba3f5",e.paletteColor3||"#6bb6ff",e.paletteColor4||"#7bc9ff",e.paletteColor5||"#8bdaff"];t.updateSetting("paletteColors",i)}}function a(t,i){if(t)if(!0===i.svgEnabled){const s=new e(t);s.setEnabled(!0),s.updatePattern(i.svgPattern||"grid",i.svgSize||100,i.svgOpacity||15,i.svgColor||"#ffffff",i.svgBlendMode||"normal",i.svgStrokeWidth||1)}else t.style.display="none"}i(998),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),"undefined"!=typeof wp&&wp.hooks&&wp.hooks.addAction("blocks.ready","hero-gradient",s)})()})();